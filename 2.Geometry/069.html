<!DOCTYPE html><html><head><meta charset="UTF-8">
 <script src="../ThreeJS/three.js"></script>
 <script src="../ThreeJS/jquery.js"></script>
 <script src="../ThreeJS/SceneUtils.js"></script>
</head>
<body>
  <h1>069 在场景中绘制样条曲线及其图形</h1>
  <center id="myContainer"></center>
<script>
 //创建渲染器
 let myRenderer= new THREE.WebGLRenderer({antialias: true});
 myRenderer.setSize(window.innerWidth,window.innerHeight);
 myRenderer.setClearColor('white', 1.0);
 $("#myContainer").append(myRenderer.domElement);
 let myScene = new THREE.Scene();
 let myCamera= new THREE.PerspectiveCamera( 45,
     window.innerWidth / window.innerHeight, 1, 1000 );
 myCamera.position.set(40.06,20.92,52.68);
 myCamera.lookAt(new THREE.Vector3(0, 0, 0));
 //自定义样条曲线的点
 generatePoints(120, 2, 2 * Math.PI);
 function generatePoints(segments, phiStart, phiLength) {
  let myPoints = [];
  let myHeight = 5;
  let myCount =30;
  for (let i = 0; i < myCount; i++) {
   myPoints.push(new THREE.Vector3((Math.sin(i * 0.2) + Math.cos(i * 0.3))
       * myHeight + 12, ( i - myCount ) + myCount / 2, 0));
  }
  //在场景中绘制样条曲线
  let myGroup = new THREE.Object3D();
  let myMeshBasicMaterial1 = new THREE.MeshBasicMaterial({color: 0x00ff00});
  myPoints.forEach(function (point) {
   //使用球体代表样条曲线的点
   let myGeometry = new THREE.SphereGeometry(0.6);
   let myMesh = new THREE.Mesh(myGeometry, myMeshBasicMaterial1);
   myMesh.position.copy(point);
   myGroup.add(myMesh);
  });
  myScene.add(myGroup);
  //在场景中绘制样条曲线生成的几何体(葫芦)，即样条曲线图形
  let myLatheGeometry = new THREE.LatheGeometry(myPoints,30);
  let myMeshNormalMaterial = new THREE.MeshNormalMaterial();
  myMeshNormalMaterial.side = THREE.DoubleSide;
  let myMeshBasicMaterial2 = new THREE.MeshBasicMaterial();
  myMeshBasicMaterial2.wireframe = true;
  let myLatheMesh = THREE.SceneUtils.createMultiMaterialObject(
      myLatheGeometry, [myMeshNormalMaterial, myMeshBasicMaterial2]);
  myScene.add(myLatheMesh);
 }
 //渲染样条曲线及其图形
 myRenderer.render(myScene,myCamera);
</script></body></html>
