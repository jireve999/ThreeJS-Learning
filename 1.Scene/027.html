<!DOCTYPE html><html><head><meta charset="UTF-8">
 <script src="../ThreeJS/three.js"></script>
 <script src="../ThreeJS/jquery.js"></script>
 <script src="../ThreeJS/Projector.js"></script>
 <script src="../ThreeJS/SVGRenderer.js"></script>
</head>
<body>
  <h1>027 使用SVGRenderer渲染线条宽度</h1>
  <p><button id="myButton1">启用SVG渲染器</button>
 <button id="myButton2">启用WebGL渲染器</button></p>
<center id="myContainer"></center>
<script>
 let isSVGRenderer=true; //是否使用SVG渲染器
 //创建渲染器myRenderer1
 let myRenderer1=new THREE.SVGRenderer();
 myRenderer1.setSize(window.innerWidth,window.innerHeight);
 //创建渲染器myRenderer2
 let myRenderer2 =new THREE.WebGLRenderer({antialias: true}); 
 myRenderer2.setSize(window.innerWidth, window.innerHeight);
 let myCamera=new THREE.PerspectiveCamera(45,
     window.innerWidth/window.innerHeight,0.1,1000);
 myCamera.position.z=4;
 let myScene=new THREE.Scene();
 myScene.background=new THREE.Color(0xffffff);
 //创建图形
 let myVertices=[];
 for(let i=0;i<=150;i++){
  let v=(i/150)*(Math.PI*2);
  let x=Math.sin(v);
  let z=Math.cos(v);
  myVertices.push(x,0,z);
 }
 let myGeometry=new THREE.BufferGeometry();
 myGeometry.setAttribute('position',
     new THREE.Float32BufferAttribute(myVertices, 3));
 for(let i=1;i<=3;i++){
  let myMaterial=new THREE.LineBasicMaterial({
   color:Math.random()*0xffffff,
   linewidth:20
  });
  let myLine=new THREE.Line(myGeometry,myMaterial);
  myLine.scale.setScalar(i/3);
  myScene.add(myLine);
 }
 //渲染图形
 animate();
 function animate(){
  let myOffset=0;
  let myTime=performance.now()/1000;
  myScene.traverse(function(child ) {
   child.rotation.x=myOffset+(myTime/3);
   child.rotation.z=myOffset+(myTime/4);
   myOffset++;
  });
  let myRenderer=myRenderer1;
  $("#myContainer").html('');
  if(isSVGRenderer){ myRenderer=myRenderer1;}
  else{ myRenderer=myRenderer2; }
  $("#myContainer").append(myRenderer.domElement);
  myRenderer.render(myScene,myCamera);
  requestAnimationFrame(animate);
 }
 //响应单击“启用SVG渲染器”按钮
 $("#myButton1").click(function(){
  isSVGRenderer=true;
 });
 //响应单击“启用WebGL渲染器”按钮
 $("#myButton2").click(function(){
  isSVGRenderer=false;
 });
</script></body></html>
